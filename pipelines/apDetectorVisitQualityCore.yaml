description: |
  Tier 1 AP plots and metrics to assess CcdVisit quality
tasks:
  analyzeAssocDiaSrcCore:
    class: lsst.analysis.tools.tasks.AssocDiaSrcDetectorVisitAnalysisTask
    config:
      # atools.numDiaSources: NumDiaSourcesMetric
      atools.numDiaSourcesAll: NumDiaSourcesAllMetric
      atools.numDipoles: NumDipolesMetric
      atools.numSsObjects: NumSsObjectsMetric
      connections.outputName: assocDiaSrcCore
      atools.simpleSky: SimpleDiaPlot
      python: |
        from lsst.analysis.tools.atools import *
  analyzeTrailedDiaSrcCore:
    class: lsst.analysis.tools.tasks.TrailedDiaSrcDetectorVisitAnalysisTask
    config:
      # Counts up the number of dia sources in the trailed table.
      atools.numDiaSourcesAll: NumDiaSourcesAllMetric
      connections.outputName: trailedDiaSrcCore
      python: |
        from lsst.analysis.tools.atools import *
  diffimTaskCore:
    class: lsst.analysis.tools.tasks.DiffimDetectorVisitAnalysisTask
    config:
      connections.outputName: diffimMetadata
      atools.nUnmergedDiaSources: NUnmergedDiaSourcesMetric
      atools.nMergedDiaSources: NMergedDiaSourcesMetric
      atools.nGoodPixelsMetric: NGoodPixelsMetric
      atools.nBadPixelsMetric: NBadPixelsMetric
      atools.nDetectedPositiveAllPixelsMetric: NPixelsDetectedPositiveMetric
      atools.nDetectedNegativeAllPixelsMetric: NPixelsDetectedNegativeMetric
      atools.nDetectedPositiveGoodPixelsMetric: NBadPixelsDetectedPositiveMetric
      atools.nDetectedNegativeGoodPixelsMetric: NBadPixelsDetectedNegativeMetric
      atools.sciencePsfSize: SciencePsfSizeMetric
      atools.templatePsfSize: TemplatePsfSizeMetric
      atools.scaleScienceVariance: ScienceVarianceScaleMetric
      atools.scaleTemplateVariance: TemplateVarianceScaleMetric
      atools.templateCoverage: TemplateCoverageMetric
      python: |
        from lsst.analysis.tools.atools import *
